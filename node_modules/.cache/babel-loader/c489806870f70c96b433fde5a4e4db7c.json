{"ast":null,"code":"var _jsxFileName = \"/home/rachmat/Documents/Emtres/bapenda-pajak/src/routes/Dashboard/Grafik Pendapatan/grafikPendapatanBulan.js\",\n    _s = $RefreshSig$();\n\nimport React, { PureComponent, useState, useEffect } from 'react';\nimport { ComposedChart, Line, Area, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport * as moment from 'moment';\nimport Widget from \"components/Widget/index\";\nimport 'moment/locale/id';\nimport \"../../../assets/styles/flip-card.css\";\nimport { Col, Row } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst data = [{\n  name: 'Page A',\n  uv: 4000,\n  price: 2400,\n  amt: 2400\n}, {\n  name: 'Page B',\n  uv: 3000,\n  price: 1398,\n  amt: 2210\n}, {\n  name: 'Page C',\n  uv: 2000,\n  price: 9800,\n  amt: 2290\n}, {\n  name: 'Page D',\n  uv: 2780,\n  price: 3908,\n  amt: 2000\n}, {\n  name: 'Page E',\n  uv: 1890,\n  price: 4800,\n  amt: 2181\n}, {\n  name: 'Page F',\n  uv: 2390,\n  price: 3800,\n  amt: 2500\n}, {\n  name: 'Page G',\n  uv: 3490,\n  price: 4300,\n  amt: 2100\n}];\nconst latestTransaction = [[{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"Rumah Makan Sederhana\"\n}, {\n  \"stringValue\": \"534650.00\"\n}, {\n  \"stringValue\": \"2022-01-19 16:14:00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"Rumah Makan Sederhana\"\n}, {\n  \"stringValue\": \"734650.00\"\n}, {\n  \"stringValue\": \"2022-02-11 16:14:00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"Rumah Makan Sederhana\"\n}, {\n  \"stringValue\": \"834650.00\"\n}, {\n  \"stringValue\": \"2022-03-19 16:14:00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"Rumah Makan Sederhana\"\n}, {\n  \"stringValue\": \"634650.00\"\n}, {\n  \"stringValue\": \"2022-04-19 16:14:00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"Rumah Makan Sederhana\"\n}, {\n  \"stringValue\": \"764650.00\"\n}, {\n  \"stringValue\": \"2022-05-19 16:14:00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"Rumah Makan Sederhana\"\n}, {\n  \"stringValue\": \"834650.00\"\n}, {\n  \"stringValue\": \"2022-06-19 16:14:00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"Rumah Makan Sederhana\"\n}, {\n  \"stringValue\": \"934650.00\"\n}, {\n  \"stringValue\": \"2022-07-19 16:14:00\"\n}]];\n\nconst GrafikPendapatanBulan = props => {\n  _s();\n\n  // const {latestTransaction, setLatestTransactio} = props\n  const [dataBulan, setDataBulan] = useState([{\n    nama: '',\n    total_value: null\n  }]);\n  const bulanJanuari = moment().format('YYYY-01');\n  const bulanFebruari = moment().format('YYYY-02');\n  const [moneyThisMonth, setMoneyThisMonth] = useState();\n  const [moneyLastMonth, setMoneyLastMonth] = useState();\n  const bulan = latestTransaction && latestTransaction.map(row => ({\n    created_at: moment(row[4].stringValue).format('MMMM YYYY'),\n    total_value: Number(row[3].stringValue)\n  }));\n  const objBulanJanuari = bulan && bulan.filter(o => o.created_at === bulanJanuari); //  const sumOfId = (created_at) => bulan && bulan.filter(i => i.created_at === created_at).reduce((a, b) => a + b.total_value, 0);\n  //   const currentBulanJanuari = objBulanJanuari && objBulanJanuari.map(v => Number(v.total_value))\n  //     .reduce((sum, current) => sum + current, 0)\n  //   const objBulanFebruari = bulan && bulan.filter(o => o.created_at === bulanFebruari);\n  //   const currentBulanLalu = objBulanFebruari && objBulanFebruari.map(v => Number(v.total_value))\n  //     .reduce((sum, current) => sum + current, 0)\n\n  const shooters = bulan === null || bulan === void 0 ? void 0 : bulan.reduce((results, current) => ({ ...results,\n    [current.created_at]: {\n      created_at: current.created_at,\n      total_value: current.total_value + (results[current.created_at] ? results[current.created_at].total_value : 0)\n    }\n  }), {});\n  console.log(\"shooters bulan\", bulan);\n  console.log(\"shooters shooters\", shooters);\n  const formatter = new Intl.NumberFormat('id-ID', {\n    style: 'currency',\n    currency: 'IDR'\n  });\n  return /*#__PURE__*/_jsxDEV(Col, {\n    className: \"flip-card\",\n    xs: 24,\n    xl: 8,\n    style: {\n      backgroundColor: \"red\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Widget, {\n      styleName: \"gx-order-history\",\n      style: {\n        backgroundColor: \"red\"\n      },\n      title: /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"left\"\n        },\n        children: \"Pendapatan 2022\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"95%\",\n        height: 300,\n        children: /*#__PURE__*/_jsxDEV(ComposedChart, {\n          data: Object.values(shooters) // data={data}\n          ,\n          margin: {\n            top: 20,\n            right: 20,\n            bottom: 20,\n            left: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            stroke: \"#f5f5f5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"created_at\",\n            scale: \"band\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Bar, {\n            dataKey: \"total_value\",\n            barSize: 20,\n            fill: \"#413ea0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: \"total_value\",\n            stroke: \"#ff7300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GrafikPendapatanBulan, \"WSgPOifjFdkgczn6AWhnPE2FUSU=\");\n\n_c = GrafikPendapatanBulan;\nexport default GrafikPendapatanBulan;\n\nvar _c;\n\n$RefreshReg$(_c, \"GrafikPendapatanBulan\");","map":{"version":3,"sources":["/home/rachmat/Documents/Emtres/bapenda-pajak/src/routes/Dashboard/Grafik Pendapatan/grafikPendapatanBulan.js"],"names":["React","PureComponent","useState","useEffect","ComposedChart","Line","Area","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","moment","Widget","Col","Row","data","name","uv","price","amt","latestTransaction","GrafikPendapatanBulan","props","dataBulan","setDataBulan","nama","total_value","bulanJanuari","format","bulanFebruari","moneyThisMonth","setMoneyThisMonth","moneyLastMonth","setMoneyLastMonth","bulan","map","row","created_at","stringValue","Number","objBulanJanuari","filter","o","shooters","reduce","results","current","console","log","formatter","Intl","NumberFormat","style","currency","backgroundColor","textAlign","Object","values","top","right","bottom","left"],"mappings":"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","sourcesContent":["import React, { PureComponent, useState, useEffect } from 'react';\nimport {\n  ComposedChart,\n  Line,\n  Area,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts';\nimport * as moment from 'moment';\nimport Widget from \"components/Widget/index\";\nimport 'moment/locale/id'\nimport \"../../../assets/styles/flip-card.css\"\nimport { Col, Row } from \"antd\";\n\nconst data = [\n  { name: 'Page A', uv: 4000, price: 2400, amt: 2400 },\n  { name: 'Page B', uv: 3000, price: 1398, amt: 2210 },\n  { name: 'Page C', uv: 2000, price: 9800, amt: 2290 },\n  { name: 'Page D', uv: 2780, price: 3908, amt: 2000 },\n  { name: 'Page E', uv: 1890, price: 4800, amt: 2181 },\n  { name: 'Page F', uv: 2390, price: 3800, amt: 2500 },\n  { name: 'Page G', uv: 3490, price: 4300, amt: 2100 },\n];\nconst latestTransaction = [\n    [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"Rumah Makan Sederhana\"\n    },\n    {\n      \"stringValue\": \"534650.00\"\n    },\n    {\n      \"stringValue\": \"2022-01-19 16:14:00\"\n    }\n\n  \n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"Rumah Makan Sederhana\"\n    },\n    {\n      \"stringValue\": \"734650.00\"\n    },\n    {\n      \"stringValue\": \"2022-02-11 16:14:00\"\n    }\n\n  \n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"Rumah Makan Sederhana\"\n    },\n    {\n      \"stringValue\": \"834650.00\"\n    },\n    {\n      \"stringValue\": \"2022-03-19 16:14:00\"\n    }\n\n  \n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"Rumah Makan Sederhana\"\n    },\n    {\n      \"stringValue\": \"634650.00\"\n    },\n    {\n      \"stringValue\": \"2022-04-19 16:14:00\"\n    }\n\n  \n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"Rumah Makan Sederhana\"\n    },\n    {\n      \"stringValue\": \"764650.00\"\n    },\n    {\n      \"stringValue\": \"2022-05-19 16:14:00\"\n    }\n\n  \n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"Rumah Makan Sederhana\"\n    },\n    {\n      \"stringValue\": \"834650.00\"\n    },\n    {\n      \"stringValue\": \"2022-06-19 16:14:00\"\n    }\n\n  \n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"Rumah Makan Sederhana\"\n    },\n    {\n      \"stringValue\": \"934650.00\"\n    },\n    {\n      \"stringValue\": \"2022-07-19 16:14:00\"\n    }\n\n  \n  ],\n]\n\nconst GrafikPendapatanBulan = (props) => {\n  // const {latestTransaction, setLatestTransactio} = props\nconst [dataBulan, setDataBulan] = useState([\n  { nama: '', total_value: null }\n])\n  const bulanJanuari = moment().format('YYYY-01')\n  const bulanFebruari = moment().format('YYYY-02')\n\n  const [moneyThisMonth, setMoneyThisMonth] = useState()\n  const [moneyLastMonth, setMoneyLastMonth] = useState()\n\n  const bulan = latestTransaction && latestTransaction.map(row => ({\n    created_at:  moment(row[4].stringValue).format('MMMM YYYY'),\n\n    total_value: Number(row[3].stringValue),\n  }));\n\n\n  const objBulanJanuari = bulan && bulan.filter(o => o.created_at === bulanJanuari);\n\n//  const sumOfId = (created_at) => bulan && bulan.filter(i => i.created_at === created_at).reduce((a, b) => a + b.total_value, 0);\n\n\n\n//   const currentBulanJanuari = objBulanJanuari && objBulanJanuari.map(v => Number(v.total_value))\n//     .reduce((sum, current) => sum + current, 0)\n\n//   const objBulanFebruari = bulan && bulan.filter(o => o.created_at === bulanFebruari);\n//   const currentBulanLalu = objBulanFebruari && objBulanFebruari.map(v => Number(v.total_value))\n//     .reduce((sum, current) => sum + current, 0)\n\n    const shooters = bulan?.reduce(\n      (results, current, ) => ({\n        ...results,\n        [current.created_at ]: {\n          created_at: current.created_at,\n          total_value: current.total_value + (results[current.created_at] ? results[current.created_at].total_value : 0),\n        }\n      }),\n      {}\n    );\n    \n    console.log(\"shooters bulan\",bulan);\n    console.log(\"shooters shooters\",shooters);\n\n  \n  const formatter = new Intl.NumberFormat('id-ID', {\n    style: 'currency',\n    currency: 'IDR',\n\n\n  });\n\n  \n  return (\n    <Col className=\"flip-card\" xs={24} xl={8} style={{backgroundColor:\"red\"}} >\n    <Widget\n      styleName=\"gx-order-history\"\n    style={{backgroundColor:\"red\"}}\n      title={\n        <h2 style={{textAlign:\"left\"}} >\n          Pendapatan 2022\n        </h2>\n      }\n\n    >\n      <ResponsiveContainer width=\"95%\" height={300}>\n\n        <ComposedChart\n          data={Object.values(shooters)}\n          // data={data}\n          margin={{\n            top: 20,\n            right: 20,\n            bottom: 20,\n            left: 20\n          }}\n        >\n          <CartesianGrid stroke=\"#f5f5f5\" />\n          <XAxis dataKey=\"created_at\" scale=\"band\" />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          <Bar dataKey=\"total_value\" barSize={20} fill=\"#413ea0\" />\n          <Line type=\"monotone\" dataKey=\"total_value\" stroke=\"#ff7300\" />\n        </ComposedChart>\n      </ResponsiveContainer>\n\n    </Widget>\n    </Col>\n  );\n};\n\nexport default GrafikPendapatanBulan;\n\n"]},"metadata":{},"sourceType":"module"}