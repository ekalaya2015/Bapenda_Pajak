{"ast":null,"code":"var _jsxFileName = \"/home/rachmat/Documents/Emtres/bapenda-pajak/src/containers/App/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, Route, Switch, useHistory, useLocation, useRouteMatch } from \"react-router-dom\";\nimport { ConfigProvider } from 'antd';\nimport { IntlProvider } from \"react-intl\";\nimport AppLocale from \"../../lngProvider\";\nimport MainApp from \"./MainApp\";\nimport SignIn from \"../SignIn\";\nimport SignUp from \"../SignUp\";\nimport { setInitUrl } from \"../../appRedux/actions\";\nimport { LAYOUT_TYPE_BOXED, LAYOUT_TYPE_FRAMED, LAYOUT_TYPE_FULL, NAV_STYLE_ABOVE_HEADER, NAV_STYLE_BELOW_HEADER, NAV_STYLE_DARK_HORIZONTAL, NAV_STYLE_DEFAULT_HORIZONTAL, NAV_STYLE_INSIDE_HEADER_HORIZONTAL, THEME_TYPE_DARK } from \"../../constants/ThemeSetting\";\nimport CircularProgress from \"../../components/CircularProgress\";\nimport { useAuth } from \"../../authentication\"; // console.log(\"location\",component)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RestrictedRoute = _ref => {\n  let {\n    component: Component,\n    location,\n    authUser,\n    ...rest\n  } = _ref;\n  return (\n    /*#__PURE__*/\n    // // console.log(\"authUser\",component.authUser )\n    // // console.log(\"component\",component.component )\n    // // // console.log(\"rest\", rest)\n    _jsxDEV(Route, { ...rest,\n      render: props => authUser ? /*#__PURE__*/_jsxDEV(Component, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: '/signin',\n          state: {\n            from: location\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 3\n    }, this)\n  );\n};\n\n_c = RestrictedRoute;\n\nconst setLayoutType = layoutType => {\n  if (layoutType === LAYOUT_TYPE_FULL) {\n    document.body.classList.remove('boxed-layout');\n    document.body.classList.remove('framed-layout');\n    document.body.classList.add('full-layout');\n  } else if (layoutType === LAYOUT_TYPE_BOXED) {\n    document.body.classList.remove('full-layout');\n    document.body.classList.remove('framed-layout');\n    document.body.classList.add('boxed-layout');\n  } else if (layoutType === LAYOUT_TYPE_FRAMED) {\n    document.body.classList.remove('boxed-layout');\n    document.body.classList.remove('full-layout');\n    document.body.classList.add('framed-layout');\n  }\n}; // console.log(\"location\",component)\n// // console.log(\"authUser\",component.authUser )\n// // console.log(\"component\",component.component )\n// // // console.log(\"rest\", rest)\n\n\nconst setNavStyle = navStyle => {\n  if (navStyle === NAV_STYLE_DEFAULT_HORIZONTAL || navStyle === NAV_STYLE_DARK_HORIZONTAL || navStyle === NAV_STYLE_INSIDE_HEADER_HORIZONTAL || navStyle === NAV_STYLE_ABOVE_HEADER || navStyle === NAV_STYLE_BELOW_HEADER) {\n    document.body.classList.add('full-scroll');\n    document.body.classList.add('horizontal-layout');\n  } else {\n    document.body.classList.remove('full-scroll');\n    document.body.classList.remove('horizontal-layout');\n  }\n};\n\nconst App = () => {\n  _s();\n\n  const locale = useSelector(_ref2 => {\n    let {\n      settings\n    } = _ref2;\n    return settings.locale;\n  });\n  const navStyle = useSelector(_ref3 => {\n    let {\n      settings\n    } = _ref3;\n    return settings.navStyle;\n  });\n  const layoutType = useSelector(_ref4 => {\n    let {\n      settings\n    } = _ref4;\n    return settings.layoutType;\n  });\n  const themeType = useSelector(_ref5 => {\n    let {\n      settings\n    } = _ref5;\n    return settings.themeType;\n  });\n  const isDirectionRTL = useSelector(_ref6 => {\n    let {\n      settings\n    } = _ref6;\n    return settings.isDirectionRTL;\n  });\n  const initURL = useSelector(_ref7 => {\n    let {\n      settings\n    } = _ref7;\n    return settings.initURL;\n  });\n  const {\n    authUser,\n    isLoadingUser\n  } = useAuth();\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const match = useRouteMatch(); // console.log(\"authUser\",authUser )\n  // console.log(\"token token\",token )\n\n  useEffect(() => {\n    if (isDirectionRTL) {\n      document.documentElement.classList.add('rtl');\n      document.documentElement.setAttribute('data-direction', 'rtl');\n    } else {\n      document.documentElement.classList.remove('rtl');\n      document.documentElement.setAttribute('data-direction', 'ltr');\n    }\n  }, [isDirectionRTL]);\n  useEffect(() => {\n    if (locale) document.documentElement.lang = locale.locale;\n  }, [locale]);\n  useEffect(() => {\n    if (themeType === THEME_TYPE_DARK) {\n      document.body.classList.add('dark-theme');\n    } else if (document.body.classList.contains('dark-theme')) {\n      document.body.classList.remove('dark-theme');\n    }\n  }, [themeType]);\n  useEffect(() => {\n    if (initURL === '') {\n      dispatch(setInitUrl(location.pathname));\n    }\n  });\n  useEffect(() => {\n    if (!isLoadingUser) {\n      if (!authUser) {\n        history.push('/signin');\n      } else if (initURL === '' || initURL === '/' || initURL === '/signin') {\n        history.push('/dashboard');\n      } else {\n        history.push(initURL);\n      }\n    }\n  }, [isLoadingUser, authUser, initURL, history]);\n  useEffect(() => {\n    setLayoutType(layoutType);\n    setNavStyle(navStyle);\n  }, [layoutType, navStyle]);\n  const currentAppLocale = AppLocale[locale.locale];\n  return isLoadingUser ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 26\n  }, this) : /*#__PURE__*/_jsxDEV(ConfigProvider, {\n    locale: currentAppLocale.antd,\n    direction: isDirectionRTL ? 'rtl' : 'ltr',\n    children: /*#__PURE__*/_jsxDEV(IntlProvider, {\n      locale: currentAppLocale.locale,\n      messages: currentAppLocale.messages,\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/signin\",\n          component: SignIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/signup\",\n          component: SignUp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RestrictedRoute, {\n          path: `${match.url}`,\n          authUser: authUser,\n          location: location,\n          component: MainApp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"7lIUW3xgE22oePeoLjZ21Pl93rU=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useAuth, useDispatch, useLocation, useHistory, useRouteMatch];\n});\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"RestrictedRoute\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["/home/rachmat/Documents/Emtres/bapenda-pajak/src/containers/App/index.js"],"names":["React","useEffect","useDispatch","useSelector","Redirect","Route","Switch","useHistory","useLocation","useRouteMatch","ConfigProvider","IntlProvider","AppLocale","MainApp","SignIn","SignUp","setInitUrl","LAYOUT_TYPE_BOXED","LAYOUT_TYPE_FRAMED","LAYOUT_TYPE_FULL","NAV_STYLE_ABOVE_HEADER","NAV_STYLE_BELOW_HEADER","NAV_STYLE_DARK_HORIZONTAL","NAV_STYLE_DEFAULT_HORIZONTAL","NAV_STYLE_INSIDE_HEADER_HORIZONTAL","THEME_TYPE_DARK","CircularProgress","useAuth","RestrictedRoute","component","Component","location","authUser","rest","props","pathname","state","from","setLayoutType","layoutType","document","body","classList","remove","add","setNavStyle","navStyle","App","locale","settings","themeType","isDirectionRTL","initURL","isLoadingUser","dispatch","history","match","documentElement","setAttribute","lang","contains","push","currentAppLocale","antd","messages","url"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Redirect, Route, Switch, useHistory, useLocation, useRouteMatch} from \"react-router-dom\";\nimport {ConfigProvider} from 'antd';\nimport {IntlProvider} from \"react-intl\";\n\nimport AppLocale from \"../../lngProvider\";\nimport MainApp from \"./MainApp\";\nimport SignIn from \"../SignIn\";\nimport SignUp from \"../SignUp\";\nimport {setInitUrl} from \"../../appRedux/actions\";\n\nimport {\n  LAYOUT_TYPE_BOXED,\n  LAYOUT_TYPE_FRAMED,\n  LAYOUT_TYPE_FULL,\n  NAV_STYLE_ABOVE_HEADER,\n  NAV_STYLE_BELOW_HEADER,\n  NAV_STYLE_DARK_HORIZONTAL,\n  NAV_STYLE_DEFAULT_HORIZONTAL,\n  NAV_STYLE_INSIDE_HEADER_HORIZONTAL,\n  THEME_TYPE_DARK\n} from \"../../constants/ThemeSetting\";\nimport CircularProgress from \"../../components/CircularProgress\";\nimport {useAuth} from \"../../authentication\";\n// console.log(\"location\",component)\n\nconst RestrictedRoute = ({component: Component, location, authUser, ...rest}) =>\n  // // console.log(\"authUser\",component.authUser )\n  // // console.log(\"component\",component.component )\n  // // // console.log(\"rest\", rest)\n\n  <Route\n    {...rest}\n    render={props =>\n      authUser\n        ? <Component {...props} />\n        : <Redirect\n          to={{\n            pathname: '/signin',\n            state: {from: location}\n          }}\n          \n        />}\n        \n  />;\n\nconst setLayoutType = (layoutType) => {\n  if (layoutType === LAYOUT_TYPE_FULL) {\n    document.body.classList.remove('boxed-layout');\n    document.body.classList.remove('framed-layout');\n    document.body.classList.add('full-layout');\n  } else if (layoutType === LAYOUT_TYPE_BOXED) {\n    document.body.classList.remove('full-layout');\n    document.body.classList.remove('framed-layout');\n    document.body.classList.add('boxed-layout');\n  } else if (layoutType === LAYOUT_TYPE_FRAMED) {\n    document.body.classList.remove('boxed-layout');\n    document.body.classList.remove('full-layout');\n    document.body.classList.add('framed-layout');\n  }\n};\n  // console.log(\"location\",component)\n  // // console.log(\"authUser\",component.authUser )\n  // // console.log(\"component\",component.component )\n  // // // console.log(\"rest\", rest)\nconst setNavStyle = (navStyle) => {\n  if (navStyle === NAV_STYLE_DEFAULT_HORIZONTAL ||\n    navStyle === NAV_STYLE_DARK_HORIZONTAL ||\n    navStyle === NAV_STYLE_INSIDE_HEADER_HORIZONTAL ||\n    navStyle === NAV_STYLE_ABOVE_HEADER ||\n    navStyle === NAV_STYLE_BELOW_HEADER) {\n    document.body.classList.add('full-scroll');\n    document.body.classList.add('horizontal-layout');\n  } else {\n    document.body.classList.remove('full-scroll');\n    document.body.classList.remove('horizontal-layout');\n  }\n};\n\nconst App = () => {\n  const locale = useSelector(({settings}) => settings.locale);\n  const navStyle = useSelector(({settings}) => settings.navStyle);\n  const layoutType = useSelector(({settings}) => settings.layoutType);\n  const themeType = useSelector(({settings}) => settings.themeType);\n  const isDirectionRTL = useSelector(({settings}) => settings.isDirectionRTL);\n  const initURL = useSelector(({settings}) => settings.initURL);\n\n  const {authUser, isLoadingUser} = useAuth();\n  const dispatch = useDispatch();\n\n  const location = useLocation();\n  const history = useHistory();\n  const match = useRouteMatch();\n  \n  \n  // console.log(\"authUser\",authUser )\n\n  // console.log(\"token token\",token )\n\n\n  useEffect(() => {\n    if (isDirectionRTL) {\n      document.documentElement.classList.add('rtl');\n      document.documentElement.setAttribute('data-direction', 'rtl')\n    } else {\n      document.documentElement.classList.remove('rtl');\n      document.documentElement.setAttribute('data-direction', 'ltr')\n    }\n  }, [isDirectionRTL]);\n\n  useEffect(() => {\n    if (locale)\n      document.documentElement.lang = locale.locale;\n  }, [locale]);\n\n  useEffect(() => {\n    if (themeType === THEME_TYPE_DARK) {\n      document.body.classList.add('dark-theme');\n    } else if (document.body.classList.contains('dark-theme')) {\n      document.body.classList.remove('dark-theme');\n    }\n  }, [themeType]);\n\n  useEffect(() => {\n    if (initURL === '') {\n      dispatch(setInitUrl(location.pathname));\n    }\n  });\n  useEffect(() => {\n    if (!isLoadingUser) {\n      if (!authUser) {\n        history.push('/signin');\n      } else if (initURL === '' || initURL === '/' || initURL === '/signin') {\n        history.push('/dashboard');\n      } else {\n        history.push(initURL);\n      }\n    }\n  }, [isLoadingUser, authUser, initURL, history]);\n\n  useEffect(() => {\n    setLayoutType(layoutType);\n    setNavStyle(navStyle);\n  }, [layoutType, navStyle]);\n\n  const currentAppLocale = AppLocale[locale.locale];\n\n  return isLoadingUser ? <CircularProgress/> : (\n    <ConfigProvider locale={currentAppLocale.antd} direction={isDirectionRTL ? 'rtl' : 'ltr'}>\n      <IntlProvider\n        locale={currentAppLocale.locale}\n        messages={currentAppLocale.messages}>\n        <Switch>\n          <Route exact path='/signin' component={SignIn}/>\n          <Route exact path='/signup' component={SignUp}/>\n          <RestrictedRoute path={`${match.url}`} authUser={authUser} location={location} component={MainApp}/>\n        </Switch>\n      </IntlProvider>\n    </ConfigProvider>\n  )\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}