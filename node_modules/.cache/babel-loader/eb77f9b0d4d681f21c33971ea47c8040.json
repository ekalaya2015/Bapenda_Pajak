{"ast":null,"code":"var _jsxFileName = \"/home/rachmat/Documents/Emtres/bapenda-pajak/src/routes/Dashboard/Grafik Pendapatan/grafikPendapatanBulan.js\",\n    _s = $RefreshSig$();\n\nimport React, { PureComponent, useState, useEffect } from 'react';\nimport { ComposedChart, Line, Area, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport * as moment from 'moment';\nimport Widget from \"components/Widget/index\";\nimport \"../../../assets/styles/flip-card.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst data = [{\n  name: 'Page A',\n  uv: 4000,\n  price: 2400,\n  amt: 2400\n}, {\n  name: 'Page B',\n  uv: 3000,\n  price: 1398,\n  amt: 2210\n}, {\n  name: 'Page C',\n  uv: 2000,\n  price: 9800,\n  amt: 2290\n}, {\n  name: 'Page D',\n  uv: 2780,\n  price: 3908,\n  amt: 2000\n}, {\n  name: 'Page E',\n  uv: 1890,\n  price: 4800,\n  amt: 2181\n}, {\n  name: 'Page F',\n  uv: 2390,\n  price: 3800,\n  amt: 2500\n}, {\n  name: 'Page G',\n  uv: 3490,\n  price: 4300,\n  amt: 2100\n}];\nconst latestTransaction = [[{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"2022-01-19 16:14:00\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"734650.00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"2022-02-13 16:14:00\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"434650.00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"2022-03-02 16:14:00\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"34650.00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"2022-04-02 16:14:00\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"9650.00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"2022-01-02 16:14:00\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"54650.00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"2022-08-02 16:14:00\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"9650.00\"\n}], [{\n  \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n}, {\n  \"stringValue\": \"2022-07-02 16:14:00\"\n}, {\n  \"stringValue\": \"DEJARDIN0001\"\n}, {\n  \"stringValue\": \"54650.00\"\n}]];\n\nconst GrafikPendapatanBulan = props => {\n  _s();\n\n  // const {latestTransaction, setLatestTransactio} = props\n  const [dataBulan, setDataBulan] = useState([{\n    nama: '',\n    nilai: null\n  }]);\n  const bulanJanuari = moment().format('YYYY-01');\n  const bulanFebruari = moment().format('YYYY-02');\n  const [moneyThisMonth, setMoneyThisMonth] = useState();\n  const [moneyLastMonth, setMoneyLastMonth] = useState();\n  const bulan = latestTransaction && latestTransaction.map(row => ({\n    tanggal_transaksi: moment(row[1].stringValue).format('YYYY-MM'),\n    nilai: Number(row[3].stringValue)\n  }));\n  const objBulanJanuari = bulan && bulan.filter(o => o.tanggal_transaksi === bulanJanuari);\n\n  const sumOfId = tanggal_transaksi => bulan && bulan.filter(i => i.tanggal_transaksi === tanggal_transaksi).reduce((a, b) => a + b.nilai, 0);\n\n  const currentBulanJanuari = objBulanJanuari && objBulanJanuari.map(v => Number(v.nilai)).reduce((sum, current) => sum + current, 0);\n  const objBulanFebruari = bulan && bulan.filter(o => o.tanggal_transaksi === bulanFebruari);\n  const currentBulanLalu = objBulanFebruari && objBulanFebruari.map(v => Number(v.nilai)).reduce((sum, current) => sum + current, 0);\n  const shooters = bulan.reduce((results, current, tanggal_transaksi) => ({ ...results,\n    [current.moment(tanggal_transaksi).format('YYYY')]: {\n      tanggal_transaksi: current.tanggal_transaksi,\n      nilai: current.nilai + (results[current.tanggal_transaksi] ? results[current.tanggal_transaksi].nilai : 0)\n    }\n  }), {});\n  console.log(\"shooters\", shooters); // useEffect(() => {\n  //   setDataBulan(\n  //     {tanggal_transaksi : Object.keys(rekapBulan),\n  //       nilai : Object.values(rekapBulan)     \n  //     }\n  //   )\n  // }, [rekapBulan]);\n  // const dataBulan = [].concat(currentBulanJanuari, objBulanFebruari); \n  // useEffect(() => {\n  //   setMoneyThisMonth(currentBulanIni);\n  // }, [currentBulanIni]);\n  // useEffect(() => {\n  //   setMoneyLastMonth(currentBulanLalu);\n  // }, [currentBulanLalu]);\n\n  const formatter = new Intl.NumberFormat('id-ID', {\n    style: 'currency',\n    currency: 'IDR'\n  });\n  console.log(\"objBulanJanuari\", objBulanJanuari);\n  console.log(\"objBulanFebruari\", objBulanFebruari);\n  console.log(\"currentBulanJanuari\", currentBulanJanuari);\n  console.log(\"dataBulan ---\", dataBulan);\n  console.log(\"sumOfId-\", sumOfId(1));\n  return /*#__PURE__*/_jsxDEV(Widget, {\n    styleName: \"gx-order-history\" // style={{backgroundColor:\"red\"}}\n    //   title={\n    //     <h2 style={{textAlign:\"left\"}} >\n    //       10 Latest Transaction\n    //     </h2>\n    //   }\n    ,\n    children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"95%\",\n      height: 300,\n      children: /*#__PURE__*/_jsxDEV(ComposedChart, {\n        data: shooters,\n        margin: {\n          top: 20,\n          right: 20,\n          bottom: 20,\n          left: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          stroke: \"#f5f5f5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"tanggal_transaksi\",\n          scale: \"band\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          dataKey: \"nilai\",\n          barSize: 20,\n          fill: \"#413ea0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"nilai\",\n          stroke: \"#ff7300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GrafikPendapatanBulan, \"RzmGSfIOcWxJBMPSzj+EJUc+VFo=\");\n\n_c = GrafikPendapatanBulan;\nexport default GrafikPendapatanBulan;\n\nvar _c;\n\n$RefreshReg$(_c, \"GrafikPendapatanBulan\");","map":{"version":3,"sources":["/home/rachmat/Documents/Emtres/bapenda-pajak/src/routes/Dashboard/Grafik Pendapatan/grafikPendapatanBulan.js"],"names":["React","PureComponent","useState","useEffect","ComposedChart","Line","Area","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","moment","Widget","data","name","uv","price","amt","latestTransaction","GrafikPendapatanBulan","props","dataBulan","setDataBulan","nama","nilai","bulanJanuari","format","bulanFebruari","moneyThisMonth","setMoneyThisMonth","moneyLastMonth","setMoneyLastMonth","bulan","map","row","tanggal_transaksi","stringValue","Number","objBulanJanuari","filter","o","sumOfId","i","reduce","a","b","currentBulanJanuari","v","sum","current","objBulanFebruari","currentBulanLalu","shooters","results","console","log","formatter","Intl","NumberFormat","style","currency","top","right","bottom","left"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA0D,OAA1D;AACA,SACEC,aADF,EAEEC,IAFF,EAGEC,IAHF,EAIEC,GAJF,EAKEC,KALF,EAMEC,KANF,EAOEC,aAPF,EAQEC,OARF,EASEC,MATF,EAUEC,mBAVF,QAWO,UAXP;AAYA,OAAO,KAAKC,MAAZ,MAAwB,QAAxB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,OAAO,sCAAP;;AAEA,MAAMC,IAAI,GAAG,CACX;AAAEC,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,EAAE,EAAE,IAAtB;AAA4BC,EAAAA,KAAK,EAAE,IAAnC;AAAyCC,EAAAA,GAAG,EAAE;AAA9C,CADW,EAEX;AAAEH,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,EAAE,EAAE,IAAtB;AAA4BC,EAAAA,KAAK,EAAE,IAAnC;AAAyCC,EAAAA,GAAG,EAAE;AAA9C,CAFW,EAGX;AAAEH,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,EAAE,EAAE,IAAtB;AAA4BC,EAAAA,KAAK,EAAE,IAAnC;AAAyCC,EAAAA,GAAG,EAAE;AAA9C,CAHW,EAIX;AAAEH,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,EAAE,EAAE,IAAtB;AAA4BC,EAAAA,KAAK,EAAE,IAAnC;AAAyCC,EAAAA,GAAG,EAAE;AAA9C,CAJW,EAKX;AAAEH,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,EAAE,EAAE,IAAtB;AAA4BC,EAAAA,KAAK,EAAE,IAAnC;AAAyCC,EAAAA,GAAG,EAAE;AAA9C,CALW,EAMX;AAAEH,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,EAAE,EAAE,IAAtB;AAA4BC,EAAAA,KAAK,EAAE,IAAnC;AAAyCC,EAAAA,GAAG,EAAE;AAA9C,CANW,EAOX;AAAEH,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,EAAE,EAAE,IAAtB;AAA4BC,EAAAA,KAAK,EAAE,IAAnC;AAAyCC,EAAAA,GAAG,EAAE;AAA9C,CAPW,CAAb;AASA,MAAMC,iBAAiB,GAAG,CACtB,CACA;AACE,iBAAe;AADjB,CADA,EAIA;AACE,iBAAe;AADjB,CAJA,EAOA;AACE,iBAAe;AADjB,CAPA,EAUA;AACE,iBAAe;AADjB,CAVA,CADsB,EAexB,CACE;AACE,iBAAe;AADjB,CADF,EAIE;AACE,iBAAe;AADjB,CAJF,EAOE;AACE,iBAAe;AADjB,CAPF,EAUE;AACE,iBAAe;AADjB,CAVF,CAfwB,EA6BxB,CACE;AACE,iBAAe;AADjB,CADF,EAIE;AACE,iBAAe;AADjB,CAJF,EAOE;AACE,iBAAe;AADjB,CAPF,EAUE;AACE,iBAAe;AADjB,CAVF,CA7BwB,EA2CxB,CACE;AACE,iBAAe;AADjB,CADF,EAIE;AACE,iBAAe;AADjB,CAJF,EAOE;AACE,iBAAe;AADjB,CAPF,EAUE;AACE,iBAAe;AADjB,CAVF,CA3CwB,EAyDxB,CACE;AACE,iBAAe;AADjB,CADF,EAIE;AACE,iBAAe;AADjB,CAJF,EAOE;AACE,iBAAe;AADjB,CAPF,EAUE;AACE,iBAAe;AADjB,CAVF,CAzDwB,EAuExB,CACE;AACE,iBAAe;AADjB,CADF,EAIE;AACE,iBAAe;AADjB,CAJF,EAOE;AACE,iBAAe;AADjB,CAPF,EAUE;AACE,iBAAe;AADjB,CAVF,CAvEwB,EAqFxB,CACE;AACE,iBAAe;AADjB,CADF,EAIE;AACE,iBAAe;AADjB,CAJF,EAOE;AACE,iBAAe;AADjB,CAPF,EAUE;AACE,iBAAe;AADjB,CAVF,CArFwB,CAA1B;;AAqGA,MAAMC,qBAAqB,GAAIC,KAAD,IAAW;AAAA;;AACvC;AACF,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BvB,QAAQ,CAAC,CACzC;AAAEwB,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,KAAK,EAAE;AAAnB,GADyC,CAAD,CAA1C;AAGE,QAAMC,YAAY,GAAGd,MAAM,GAAGe,MAAT,CAAgB,SAAhB,CAArB;AACA,QAAMC,aAAa,GAAGhB,MAAM,GAAGe,MAAT,CAAgB,SAAhB,CAAtB;AAEA,QAAM,CAACE,cAAD,EAAiBC,iBAAjB,IAAsC9B,QAAQ,EAApD;AACA,QAAM,CAAC+B,cAAD,EAAiBC,iBAAjB,IAAsChC,QAAQ,EAApD;AAEA,QAAMiC,KAAK,GAAGd,iBAAiB,IAAIA,iBAAiB,CAACe,GAAlB,CAAsBC,GAAG,KAAK;AAC/DC,IAAAA,iBAAiB,EAAExB,MAAM,CAACuB,GAAG,CAAC,CAAD,CAAH,CAAOE,WAAR,CAAN,CAA2BV,MAA3B,CAAkC,SAAlC,CAD4C;AAG/DF,IAAAA,KAAK,EAAEa,MAAM,CAACH,GAAG,CAAC,CAAD,CAAH,CAAOE,WAAR;AAHkD,GAAL,CAAzB,CAAnC;AAOA,QAAME,eAAe,GAAGN,KAAK,IAAIA,KAAK,CAACO,MAAN,CAAaC,CAAC,IAAIA,CAAC,CAACL,iBAAF,KAAwBV,YAA1C,CAAjC;;AAED,QAAMgB,OAAO,GAAIN,iBAAD,IAAuBH,KAAK,IAAIA,KAAK,CAACO,MAAN,CAAaG,CAAC,IAAIA,CAAC,CAACP,iBAAF,KAAwBA,iBAA1C,EAA6DQ,MAA7D,CAAoE,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAAC,CAACrB,KAApF,EAA2F,CAA3F,CAAhD;;AAIC,QAAMsB,mBAAmB,GAAGR,eAAe,IAAIA,eAAe,CAACL,GAAhB,CAAoBc,CAAC,IAAIV,MAAM,CAACU,CAAC,CAACvB,KAAH,CAA/B,EAC5CmB,MAD4C,CACrC,CAACK,GAAD,EAAMC,OAAN,KAAkBD,GAAG,GAAGC,OADa,EACJ,CADI,CAA/C;AAGA,QAAMC,gBAAgB,GAAGlB,KAAK,IAAIA,KAAK,CAACO,MAAN,CAAaC,CAAC,IAAIA,CAAC,CAACL,iBAAF,KAAwBR,aAA1C,CAAlC;AACA,QAAMwB,gBAAgB,GAAGD,gBAAgB,IAAIA,gBAAgB,CAACjB,GAAjB,CAAqBc,CAAC,IAAIV,MAAM,CAACU,CAAC,CAACvB,KAAH,CAAhC,EAC1CmB,MAD0C,CACnC,CAACK,GAAD,EAAMC,OAAN,KAAkBD,GAAG,GAAGC,OADW,EACF,CADE,CAA7C;AAGE,QAAMG,QAAQ,GAAGpB,KAAK,CAACW,MAAN,CACf,CAACU,OAAD,EAAUJ,OAAV,EAAmBd,iBAAnB,MAA0C,EACxC,GAAGkB,OADqC;AAExC,KAACJ,OAAO,CAACtC,MAAR,CAAewB,iBAAf,EAAkCT,MAAlC,CAAyC,MAAzC,CAAD,GAAoD;AAClDS,MAAAA,iBAAiB,EAAEc,OAAO,CAACd,iBADuB;AAElDX,MAAAA,KAAK,EAAEyB,OAAO,CAACzB,KAAR,IAAiB6B,OAAO,CAACJ,OAAO,CAACd,iBAAT,CAAP,GAAqCkB,OAAO,CAACJ,OAAO,CAACd,iBAAT,CAAP,CAAmCX,KAAxE,GAAgF,CAAjG;AAF2C;AAFZ,GAA1C,CADe,EAQf,EARe,CAAjB;AAWA8B,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBH,QAAvB,EA1CqC,CA6CvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;;AACA,QAAMI,SAAS,GAAG,IAAIC,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;AAC/CC,IAAAA,KAAK,EAAE,UADwC;AAE/CC,IAAAA,QAAQ,EAAE;AAFqC,GAA/B,CAAlB;AAMAN,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAAgCjB,eAAhC;AACAgB,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCL,gBAAhC;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCT,mBAAnC;AACAQ,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BlC,SAA7B;AACAiC,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBd,OAAO,CAAC,CAAD,CAA/B;AAEA,sBACE,QAAC,MAAD;AACE,IAAA,SAAS,EAAC,kBADZ,CAEA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA,2BAUE,QAAC,mBAAD;AAAqB,MAAA,KAAK,EAAC,KAA3B;AAAiC,MAAA,MAAM,EAAE,GAAzC;AAAA,6BAEE,QAAC,aAAD;AACE,QAAA,IAAI,EAAEW,QADR;AAEE,QAAA,MAAM,EAAE;AACNS,UAAAA,GAAG,EAAE,EADC;AAENC,UAAAA,KAAK,EAAE,EAFD;AAGNC,UAAAA,MAAM,EAAE,EAHF;AAINC,UAAAA,IAAI,EAAE;AAJA,SAFV;AAAA,gCASE,QAAC,aAAD;AAAe,UAAA,MAAM,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,gBATF,eAUE,QAAC,KAAD;AAAO,UAAA,OAAO,EAAC,mBAAf;AAAmC,UAAA,KAAK,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,gBAVF,eAWE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,gBAXF,eAYE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBAZF,eAaE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,gBAbF,eAcE,QAAC,GAAD;AAAK,UAAA,OAAO,EAAC,OAAb;AAAqB,UAAA,OAAO,EAAE,EAA9B;AAAkC,UAAA,IAAI,EAAC;AAAvC;AAAA;AAAA;AAAA;AAAA,gBAdF,eAeE,QAAC,IAAD;AAAM,UAAA,IAAI,EAAC,UAAX;AAAsB,UAAA,OAAO,EAAC,OAA9B;AAAsC,UAAA,MAAM,EAAC;AAA7C;AAAA;AAAA;AAAA;AAAA,gBAfF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA;AAVF;AAAA;AAAA;AAAA;AAAA,UADF;AAkCD,CA5GD;;GAAM7C,qB;;KAAAA,qB;AA8GN,eAAeA,qBAAf","sourcesContent":["import React, { PureComponent, useState, useEffect } from 'react';\nimport {\n  ComposedChart,\n  Line,\n  Area,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts';\nimport * as moment from 'moment';\nimport Widget from \"components/Widget/index\";\n\nimport \"../../../assets/styles/flip-card.css\"\n\nconst data = [\n  { name: 'Page A', uv: 4000, price: 2400, amt: 2400 },\n  { name: 'Page B', uv: 3000, price: 1398, amt: 2210 },\n  { name: 'Page C', uv: 2000, price: 9800, amt: 2290 },\n  { name: 'Page D', uv: 2780, price: 3908, amt: 2000 },\n  { name: 'Page E', uv: 1890, price: 4800, amt: 2181 },\n  { name: 'Page F', uv: 2390, price: 3800, amt: 2500 },\n  { name: 'Page G', uv: 3490, price: 4300, amt: 2100 },\n];\nconst latestTransaction = [\n    [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"2022-01-19 16:14:00\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"734650.00\"\n    }\n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"2022-02-13 16:14:00\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"434650.00\"\n    }\n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"2022-03-02 16:14:00\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"34650.00\"\n    }\n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"2022-04-02 16:14:00\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"9650.00\"\n    }\n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"2022-01-02 16:14:00\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"54650.00\"\n    }\n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"2022-08-02 16:14:00\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"9650.00\"\n    }\n  ],\n  [\n    {\n      \"stringValue\": \"5bda50ab-9940-11ec-8a2c-a97e6ec00a1c\"\n    },\n    {\n      \"stringValue\": \"2022-07-02 16:14:00\"\n    },\n    {\n      \"stringValue\": \"DEJARDIN0001\"\n    },\n    {\n      \"stringValue\": \"54650.00\"\n    }\n  ],\n]\n\nconst GrafikPendapatanBulan = (props) => {\n  // const {latestTransaction, setLatestTransactio} = props\nconst [dataBulan, setDataBulan] = useState([\n  { nama: '', nilai: null }\n])\n  const bulanJanuari = moment().format('YYYY-01')\n  const bulanFebruari = moment().format('YYYY-02')\n\n  const [moneyThisMonth, setMoneyThisMonth] = useState()\n  const [moneyLastMonth, setMoneyLastMonth] = useState()\n\n  const bulan = latestTransaction && latestTransaction.map(row => ({\n    tanggal_transaksi: moment(row[1].stringValue).format('YYYY-MM'),\n\n    nilai: Number(row[3].stringValue),\n  }));\n\n\n  const objBulanJanuari = bulan && bulan.filter(o => o.tanggal_transaksi === bulanJanuari);\n\n const sumOfId = (tanggal_transaksi) => bulan && bulan.filter(i => i.tanggal_transaksi === tanggal_transaksi).reduce((a, b) => a + b.nilai, 0);\n\n\n\n  const currentBulanJanuari = objBulanJanuari && objBulanJanuari.map(v => Number(v.nilai))\n    .reduce((sum, current) => sum + current, 0)\n\n  const objBulanFebruari = bulan && bulan.filter(o => o.tanggal_transaksi === bulanFebruari);\n  const currentBulanLalu = objBulanFebruari && objBulanFebruari.map(v => Number(v.nilai))\n    .reduce((sum, current) => sum + current, 0)\n\n    const shooters = bulan.reduce(\n      (results, current, tanggal_transaksi) => ({\n        ...results,\n        [current.moment(tanggal_transaksi).format('YYYY')]: {\n          tanggal_transaksi: current.tanggal_transaksi,\n          nilai: current.nilai + (results[current.tanggal_transaksi] ? results[current.tanggal_transaksi].nilai : 0),\n        }\n      }),\n      {}\n    );\n    \n    console.log(\"shooters\",shooters);\n\n\n  // useEffect(() => {\n  //   setDataBulan(\n  //     {tanggal_transaksi : Object.keys(rekapBulan),\n  //       nilai : Object.values(rekapBulan)     \n  //     }\n  //   )\n  // }, [rekapBulan]);\n  // const dataBulan = [].concat(currentBulanJanuari, objBulanFebruari); \n\n\n  // useEffect(() => {\n  //   setMoneyThisMonth(currentBulanIni);\n  // }, [currentBulanIni]);\n\n  // useEffect(() => {\n  //   setMoneyLastMonth(currentBulanLalu);\n  // }, [currentBulanLalu]);\n  const formatter = new Intl.NumberFormat('id-ID', {\n    style: 'currency',\n    currency: 'IDR',\n\n\n  });\n  console.log(\"objBulanJanuari\",  objBulanJanuari)\n  console.log(\"objBulanFebruari\", objBulanFebruari)\n  console.log(\"currentBulanJanuari\", currentBulanJanuari)\n  console.log(\"dataBulan ---\", dataBulan)\n  console.log(\"sumOfId-\", sumOfId(1))\n  \n  return (\n    <Widget\n      styleName=\"gx-order-history\"\n    // style={{backgroundColor:\"red\"}}\n    //   title={\n    //     <h2 style={{textAlign:\"left\"}} >\n    //       10 Latest Transaction\n    //     </h2>\n    //   }\n\n    >\n      <ResponsiveContainer width=\"95%\" height={300}>\n\n        <ComposedChart\n          data={shooters}\n          margin={{\n            top: 20,\n            right: 20,\n            bottom: 20,\n            left: 20\n          }}\n        >\n          <CartesianGrid stroke=\"#f5f5f5\" />\n          <XAxis dataKey=\"tanggal_transaksi\" scale=\"band\" />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          <Bar dataKey=\"nilai\" barSize={20} fill=\"#413ea0\" />\n          <Line type=\"monotone\" dataKey=\"nilai\" stroke=\"#ff7300\" />\n        </ComposedChart>\n      </ResponsiveContainer>\n\n    </Widget>\n  );\n};\n\nexport default GrafikPendapatanBulan;\n\n"]},"metadata":{},"sourceType":"module"}