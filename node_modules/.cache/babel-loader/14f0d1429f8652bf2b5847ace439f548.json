{"ast":null,"code":"var _jsxFileName = \"/home/rachmat/Documents/Emtres/bapenda-pajak/src/routes/Dashboard/Grafik Pendapatan/grafikPendapatanTahun.js\",\n    _s = $RefreshSig$();\n\nimport React, { PureComponent, useState, useEffect } from 'react';\nimport { ComposedChart, Line, Area, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport * as moment from 'moment';\nimport Widget from \"components/Widget/index\";\nimport \"../../../assets/styles/flip-card.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst data = [{\n  name: 'Page A',\n  uv: 4000,\n  price: 2400,\n  amt: 2400\n}, {\n  name: 'Page B',\n  uv: 3000,\n  price: 1398,\n  amt: 2210\n}, {\n  name: 'Page C',\n  uv: 2000,\n  price: 9800,\n  amt: 2290\n}, {\n  name: 'Page D',\n  uv: 2780,\n  price: 3908,\n  amt: 2000\n}, {\n  name: 'Page E',\n  uv: 1890,\n  price: 4800,\n  amt: 2181\n}, {\n  name: 'Page F',\n  uv: 2390,\n  price: 3800,\n  amt: 2500\n}, {\n  name: 'Page G',\n  uv: 3490,\n  price: 4300,\n  amt: 2100\n}];\n\nconst GrafikPendapatanTahun = props => {\n  _s();\n\n  const {\n    latestTransaction,\n    setLatestTransactio\n  } = props;\n  const tahunIni = moment().format('YYYY');\n  const tahunLalu = moment().subtract(1, 'years').format('YYYY');\n  const [moneyThisYear, setMoneyThisYear] = useState();\n  const [moneyLastYear, setMoneyLastYear] = useState();\n  const tahun = latestTransaction && latestTransaction.map(row => ({\n    nilai: row[3].stringValue,\n    tanggal_transaksi: moment(row[1].stringValue).format('YYYY')\n  }));\n  const objTahunIni = tahun && tahun.filter(o => o.tanggal_transaksi === tahunIni);\n  const currentTahunIni = objTahunIni && objTahunIni.map(v => Number(v.nilai)).reduce((sum, current) => sum + current, 0);\n  const objTahunLalu = tahun && tahun.filter(o => o.tanggal_transaksi === tahunLalu);\n  const currentTahunLalu = objTahunLalu && objTahunLalu.map(v => Number(v.nilai)).reduce((sum, current) => sum + current, 0);\n  console.log(\"latestTransaction\", latestTransaction);\n  console.log(\"tahun\", tahun);\n  console.log(\"tahunIni\", tahunIni);\n  console.log(\"objTahunIni\", objTahunIni);\n  console.log(\"currentTahunIni\", currentTahunIni);\n  useEffect(() => {\n    setMoneyThisYear(currentTahunIni);\n  }, [currentTahunIni]);\n  useEffect(() => {\n    setMoneyLastYear(currentTahunLalu);\n  }, [currentTahunLalu]);\n  const formatter = new Intl.NumberFormat('id-ID', {\n    style: 'currency',\n    currency: 'IDR' // These options are needed to round to whole numbers if that's what you want.\n    //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n    //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n\n  });\n  return /*#__PURE__*/_jsxDEV(Widget, {\n    styleName: \"gx-order-history\" // style={{backgroundColor:\"red\"}}\n    //   title={\n    //     <h2 style={{textAlign:\"left\"}} >\n    //       10 Latest Transaction\n    //     </h2>\n    //   }\n    ,\n    children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"95%\",\n      height: 300,\n      children: /*#__PURE__*/_jsxDEV(ComposedChart, {\n        data: data,\n        margin: {\n          top: 20,\n          right: 20,\n          bottom: 20,\n          left: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          stroke: \"#f5f5f5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"name\",\n          scale: \"band\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          dataKey: \"uv\",\n          barSize: 20,\n          fill: \"#413ea0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"uv\",\n          stroke: \"#ff7300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GrafikPendapatanTahun, \"xXJGLHvnWNnwbSui/ySg/uReKXg=\");\n\n_c = GrafikPendapatanTahun;\nexport default GrafikPendapatanTahun;\n\nvar _c;\n\n$RefreshReg$(_c, \"GrafikPendapatanTahun\");","map":{"version":3,"sources":["/home/rachmat/Documents/Emtres/bapenda-pajak/src/routes/Dashboard/Grafik Pendapatan/grafikPendapatanTahun.js"],"names":["React","PureComponent","useState","useEffect","ComposedChart","Line","Area","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","moment","Widget","data","name","uv","price","amt","GrafikPendapatanTahun","props","latestTransaction","setLatestTransactio","tahunIni","format","tahunLalu","subtract","moneyThisYear","setMoneyThisYear","moneyLastYear","setMoneyLastYear","tahun","map","row","nilai","stringValue","tanggal_transaksi","objTahunIni","filter","o","currentTahunIni","v","Number","reduce","sum","current","objTahunLalu","currentTahunLalu","console","log","formatter","Intl","NumberFormat","style","currency","top","right","bottom","left"],"mappings":"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","sourcesContent":["import React, { PureComponent, useState, useEffect } from 'react';\nimport {\n  ComposedChart,\n  Line,\n  Area,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts';\nimport * as moment from 'moment';\nimport Widget from \"components/Widget/index\";\n\nimport \"../../../assets/styles/flip-card.css\"\n\nconst data = [\n    {name: 'Page A', uv: 4000, price: 2400, amt: 2400},\n    {name: 'Page B', uv: 3000, price: 1398, amt: 2210},\n    {name: 'Page C', uv: 2000, price: 9800, amt: 2290},\n    {name: 'Page D', uv: 2780, price: 3908, amt: 2000},\n    {name: 'Page E', uv: 1890, price: 4800, amt: 2181},\n    {name: 'Page F', uv: 2390, price: 3800, amt: 2500},\n    {name: 'Page G', uv: 3490, price: 4300, amt: 2100},\n  ];\n\nconst GrafikPendapatanTahun = (props) => {\n    const {latestTransaction, setLatestTransactio} = props\n\n    const tahunIni = moment().format('YYYY')\n    const tahunLalu =moment().subtract(1,'years').format('YYYY')\n  \n    const [moneyThisYear, setMoneyThisYear] = useState()\n    const [moneyLastYear, setMoneyLastYear] = useState()\n  \n    const tahun = latestTransaction && latestTransaction.map(row => ({\n      nilai: row[3].stringValue,\n      tanggal_transaksi: moment(row[1].stringValue).format('YYYY')\n    }));\n    const objTahunIni = tahun && tahun.filter(o => o.tanggal_transaksi === tahunIni);\n    const currentTahunIni = objTahunIni && objTahunIni.map(v => Number(v.nilai))\n      .reduce((sum, current) => sum + current, 0)\n  \n      const objTahunLalu = tahun && tahun.filter(o => o.tanggal_transaksi === tahunLalu);\n      const currentTahunLalu = objTahunLalu && objTahunLalu.map(v => Number(v.nilai))\n        .reduce((sum, current) => sum + current, 0)    \n  \n        console.log(\"latestTransaction\",latestTransaction)\n  \n        console.log(\"tahun\",tahun)\n  \n  console.log(\"tahunIni\",tahunIni)\n    console.log(\"objTahunIni\", objTahunIni);\n    console.log(\"currentTahunIni\", currentTahunIni);\n  \n    useEffect(() => {\n      setMoneyThisYear(currentTahunIni);\n    }, [currentTahunIni]);\n    \n    useEffect(() => {\n      setMoneyLastYear(currentTahunLalu);\n    }, [currentTahunLalu]);\n    const formatter = new Intl.NumberFormat('id-ID', {\n      style: 'currency',\n      currency: 'IDR',\n    \n      // These options are needed to round to whole numbers if that's what you want.\n      //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n      //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n    });\n  return (\n    <Widget \n    styleName=\"gx-order-history\"\n    // style={{backgroundColor:\"red\"}}\n    //   title={\n    //     <h2 style={{textAlign:\"left\"}} >\n    //       10 Latest Transaction\n    //     </h2>\n    //   }\n\n    >\n        <ResponsiveContainer width=\"95%\" height={300}>\n\n    <ComposedChart\n    data={data}\n    margin={{\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 20\n    }}\n  >\n    <CartesianGrid stroke=\"#f5f5f5\" />\n    <XAxis dataKey=\"name\" scale=\"band\" />\n    <YAxis />\n    <Tooltip />\n    <Legend />\n    <Bar dataKey=\"uv\" barSize={20} fill=\"#413ea0\" />\n    <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#ff7300\" />\n  </ComposedChart>\n  </ResponsiveContainer>\n\n  </Widget>\n  );\n};\n\nexport default GrafikPendapatanTahun;\n\n"]},"metadata":{},"sourceType":"module"}