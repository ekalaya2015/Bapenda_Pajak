var I=Object.create;var P=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty;var H=(e,r,t)=>r in e?P(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var M=e=>P(e,"__esModule",{value:!0});var J=(e,r)=>{M(e);for(var t in r)P(e,t,{get:r[t],enumerable:!0})},Q=(e,r,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of D(r))!G.call(e,s)&&s!=="default"&&P(e,s,{get:()=>r[s],enumerable:!(t=z(r,s))||t.enumerable});return e},d=e=>Q(M(P(e!=null?I(q(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var j=(e,r,t)=>(H(e,typeof r!="symbol"?r+"":r,t),t);J(exports,{SUSPENSE:()=>E,Subscribe:()=>C,bind:()=>Y,shareLatest:()=>R});var U=d(require("rxjs"));var S=d(require("rxjs"));var i={};var E=Symbol("SUSPENSE");var W=(e,r,t=!0,s=S.noop)=>{let n,a,b=0,o=i,u,T=r===i?S.noop:()=>{o===i&&n&&n.next(o=r)},m=new S.Observable(p=>{t||(p.complete=S.noop),b++;let c;p.add(()=>{b--,c.unsubscribe(),b===0&&(o=i,a&&a.unsubscribe(),s(),n=null,a=null,u=null)}),n?(c=n.subscribe(p),o!==i&&p.next(o)):(n=new S.Subject,c=n.subscribe(p),a=null,a=new S.Subscriber({next:v=>{n.next(o=v)},error:v=>{let h=n;a=null,n=null,h.error(v)},complete:()=>{a=null,T(),n.complete()}}),e.subscribe(a),T())}),O=i,f;return m.gV=p=>{if(o!==E&&o!==i)return o;if(r!==i)return r;if(O!==i)throw clearTimeout(f),f=setTimeout(()=>{O=i},50),O;if(!a){if(!p)throw new Error("Missing Subscribe");let c=i,v=m.subscribe({error(h){c=h}});if(c!==i)throw c;return p.add(v),m.gV()}throw u||(u=new Promise((c,v)=>{let h=g=>{O=g,f=setTimeout(()=>{O=i},50),v(g),u=null},B=n.subscribe(g=>{g!==E&&(B.unsubscribe(),c(g),u=null)},h,()=>{h(new Error("Empty observable"))});a.add(B)}))},m},x=W;var y=d(require("react"));var w=(e,r)=>{let[t,s]=(0,y.useState)(()=>[e.gV(r),e]),n=(0,y.useRef)(t[0]);return e!==t[1]&&s([e.gV(r),e]),(0,y.useEffect)(()=>{let a=()=>{s(()=>[e.gV(),e])},b=e.subscribe(o=>{o===E?a():Object.is(n.current,o)||s([n.current=o,e])},o=>{s(()=>{throw o})});return()=>{b.unsubscribe()}},[e]),t[0]};var l=d(require("react")),L=d(require("rxjs")),K=(0,l.createContext)(null),{Provider:X}=K,A=()=>(0,l.useContext)(K),Z=Promise.resolve(),k=()=>{throw Z},C=({source$:e,children:r,fallback:t})=>{let s=(0,l.useRef)();s.current||(s.current=new L.Subscription);let[n,a]=(0,l.useState)(null);if(n!==null&&n!==e)if(e===void 0)a(e);else{let o;try{e.gV(),o=e}catch(u){o=u.then?e:null}o&&a(o)}(0,l.useEffect)(()=>{let o=e&&e.subscribe({error:u=>a(()=>{throw u})});return a(e),()=>{o&&o.unsubscribe()}},[e]),(0,l.useEffect)(()=>()=>{s.current.unsubscribe()},[]);let b=n===e?l.default.createElement(X,{value:s.current},r):t===void 0?null:l.default.createElement(k,null);return t===void 0?b:l.default.createElement(l.Suspense,{fallback:t},b)};function N(e,r){let t=new _,s=typeof r=="function"?r:()=>r,n=b=>{for(let f=b.length-1;b[f]===void 0&&f>-1;f--)b.splice(-1);let o=[b.length,...b],u=t.get(o);if(u!==void 0)return u;let T=x(new U.Observable(f=>e(...b).subscribe(f)),s(...b),!1,()=>{t.delete(o)}),m=new U.Observable(f=>{let p=t.get(o),c=T;return p?p!==m&&(c=p,m.gV=c.gV):t.set(o,O),c.subscribe(f)});m.gV=T.gV;let O=m;return t.set(o,O),O},a=r===i?A:U.noop;return[(...b)=>w(n(b),a()),(...b)=>n(b)]}var _=class{constructor(){j(this,"root");this.root=new Map}get(r){let t=this.root;for(let s=0;s<r.length;s++)if(t=t.get(r[s]),!t)return;return t}set(r,t){let s=this.root,n;for(n=0;n<r.length-1;n++){let a=s.get(r[n]);a||(a=new Map,s.set(r[n],a)),s=a}s.set(r[n],t)}delete(r){let t=[this.root],s=this.root;for(let a=0;a<r.length-1;a++)t.push(s=s.get(r[a]));let n=t.length-1;for(t[n].delete(r[n]);--n>-1&&t[n].get(r[n]).size===0;)t[n].delete(r[n])}};var F=d(require("rxjs"));function V(e,r){let t=x(e,r,!1),s=r===i?A:F.noop;return[()=>w(t,s()),t]}function Y(e,r){return(typeof e=="function"?N:V)(e,arguments.length>1?r:i)}var R=()=>e=>x(e,i);
//# sourceMappingURL=core.cjs.production.min.js.map
